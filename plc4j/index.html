
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2017-12-22
 Rendered using Reflow Maven Skin 1.1.1 (http://andriusvelykis.github.io/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Apache PLC4X® (Incubating) - About PLC4J</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="./css/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />


		<link href="./css/lightbox.css" rel="stylesheet" />

		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />

		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="./js/html5.js"></script>
		<![endif]-->


		
<link rel="stylesheet" href="./css/font-awesome.min.css"/>
	</head>

	<body class="page-index project-plc4j" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#top-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="../">Apache PLC4X (Incubating)</a>
					<div class="nav-collapse collapse" id="top-nav-collapse">
						<ul class="nav pull-right">
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="dropdown-submenu ">
										<a href="project-info.html" title="Project Information">Project Information</a>
										<ul class="dropdown-menu">
											<li ><a href="dependencies.html" title="Dependencies">Dependencies</a></li>
											<li ><a href="dependency-info.html" title="Dependency Information">Dependency Information</a></li>
											<li ><a href="distribution-management.html" title="Distribution Management">Distribution Management</a></li>
											<li class="active"><a href="" title="About">About</a></li>
											<li ><a href="issue-tracking.html" title="Issue Management">Issue Management</a></li>
											<li ><a href="license.html" title="Licenses">Licenses</a></li>
											<li ><a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a></li>
											<li ><a href="modules.html" title="Project Modules">Project Modules</a></li>
											<li ><a href="plugin-management.html" title="Plugin Management">Plugin Management</a></li>
											<li ><a href="plugins.html" title="Plugins">Plugins</a></li>
											<li ><a href="source-repository.html" title="Source Code Management">Source Code Management</a></li>
											<li ><a href="project-summary.html" title="Summary">Summary</a></li>
										</ul>
									</li>
									<li class="dropdown-submenu ">
										<a href="project-reports.html" title="Project Reports">Project Reports</a>
										<ul class="dropdown-menu">
											<li ><a href="surefire-report.html" title="Surefire Report">Surefire Report</a></li>
											<li ><a href="changelog.html" title="Change Log">Change Log</a></li>
											<li ><a href="file-activity.html" title="File Activity">File Activity</a></li>
											<li ><a href="dev-activity.html" title="Developer Activity">Developer Activity</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Parent Project <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="../index.html" title="PLC4X">PLC4X</a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li ><a href="plc4j-api/index.html" title="PLC4J: API">PLC4J: API</a></li>
									<li ><a href="plc4j-core/index.html" title="PLC4J: Core">PLC4J: Core</a></li>
									<li ><a href="plc4j-protocols/index.html" title="PLC4J: Protocols">PLC4J: Protocols</a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>

	<div class="container">

	<!-- Masthead
	================================================== -->

	<header>
	<div class="jumbotron subhead">
		<div class="row" id="banner">
			<div class="span12">
				<div class="pull-left">
					<a href="https://iot.gitlab.codecentric.de/plc4x/" id="bannerLeft"><img src="https://iot.gitlab.codecentric.de/plc4x/img/apache_plc4x_logo.png" alt='"'Apache PLC4X (incubating)'"' /></a>
					<p class="lead">The industrial IoT adapter</p>
				</div>
				<div class="pull-right">
					<a href="http://incubator.apache.org/" id="bannerRight"><img src="https://incubator.apache.org/images/incubator_feather_egg_logo_sm.png" alt='"'Apache Incubator'"' /></a>
				</div>
			</div>
		</div>
	</div>
		<div>
			<ul class="breadcrumb">
				<li class="projectVersion version-date">Version: 0.0.1-SNAPSHOT</li>
				<li class="divider">|</li>
				<li class="publishDate version-date">Last Published: 2017-12-22</li>
			</ul>
		</div>
		<hr class="toc-separator" />
		<div id="toc-bar" class="navbar" data-spy="affix" data-offset-top="250">
			<div class="navbar-inner">
				<div id="toc-scroll-target" class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target="#toc-nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<div class="nav-collapse collapse" id="toc-nav-collapse">
						<ul id="toc" class="nav">
						<li class="toplevel"><a href="#about_plc4j" title="About PLC4J">About PLC4J</a></li>
						<li class="toplevel"><a href="#usage" title="Usage">Usage</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span12">
			<div class="body-content">
<div class="sect1"> 
 <div class="page-header">
  <h2 id="about_plc4j">About PLC4J</h2>
 </div> 
 <div class="sectionbody"> 
  <div class="paragraph"> 
   <p><code>PLC4J</code> is a sub-project of <code>PLC4X</code> with implementations based on <code>Java</code> targeted at runtimes for <code>Java 1.8</code> or above.</p> 
  </div> 
  <div class="paragraph"> 
   <p>One of PLC4X’s core principals is, that an application using PLC4X should be independent of the PLC or protocol being used.</p> 
  </div> 
  <div class="paragraph"> 
   <p>When addressing a resource on a remote there are two parts that are dependent on the protocol and the type of PLC:</p> 
  </div> 
  <div class="ulist"> 
   <ul> 
    <li> <p>Addressing the PLC itself</p> </li> 
    <li> <p>Addressing a resource on the PLC</p> </li> 
   </ul> 
  </div> 
  <div class="paragraph"> 
   <p>Providing this independence to addressing the PLC itself is completely handled by the <code>PlcDriverManager</code> the application requests a connection from.</p> 
  </div> 
  <div class="paragraph"> 
   <p>Hereby the design of the <code>url string</code> passed to the <code>getConnection</code> method is greatly inspired by <code>JDBC</code>.</p> 
  </div> 
  <div class="paragraph"> 
   <p>The protocol prefix of the url specifies the type of driver being used.</p> 
  </div> 
  <div class="paragraph"> 
   <p>For example, when connecting to a Siemens PLC using the S7/Step7 Protocol, the url: <code>s7://192.42.0.98/1/2</code> causes the driver manager to create a S7 connection instance. The part behind the <code>:</code> is hereby used by the driver implementation to configure that particular connection.</p> 
  </div> 
  <div class="paragraph"> 
   <p>For a S7 connection, for example, this is <code>IP address/host name</code>/<code>rack number</code>/<code>slot number</code>. For different types of connections this url structure will greatly differ.</p> 
  </div> 
  <div class="paragraph"> 
   <p>As mentioned above, the second platform dependent information is the address of resources on a PLC. The format of an address greatly depends on the type of connection. Therefore <code>parseAddress</code> is one of the only methods defined in the <code>PlcConnection</code> interface any connection has to implement.</p> 
  </div> 
  <div class="paragraph"> 
   <p>This method returns an object implementing the <code>Address</code> interface which then can be used by the same connection to identify remote resources.</p> 
  </div> 
  <div class="sect2"> 
   <h3 id="usage">Usage</h3> 
   <div class="paragraph"> 
    <p>Below code example connects to a remote Siemens S7 PLC using the S7/Step7 protocol and then reads the state of the <code>inputs</code> and <code>outputs</code> from this.</p> 
   </div> 
   <div class="paragraph"> 
    <p>It also demonstrates two ways this information can be accessed:</p> 
   </div> 
   <div class="ulist"> 
    <ul> 
     <li> <p>Synchronously (The application pauses, till the response is received)</p> </li> 
     <li> <p>Asynchronously (The application continues and can</p> </li> 
    </ul> 
   </div> 
   <div class="literalblock"> 
    <div class="content"> 
     <pre>public class S7PlcDriverSample {

    /**
     * Example code do demonstrate using the S7 Plc Driver.
     *
     * @param args ignored.
     * @throws Exception something went wrong.
     */
    public static void main(String[] args) throws Exception {
        // Create a connection to the S7 PLC (s7://{hostname/ip}/{racknumber}/{slotnumber})
        try (PlcConnection plcConnection = new PlcDriverManager().getConnection(&quot;s7://192.168.0.1/0/0&quot;)){

            Optional&lt;PlcReader&gt; reader = plcConnection.getReader();
            // Check if this connection support reading of data.
            if (reader.isPresent()) {
                PlcReader plcReader = reader.get();

                // Prepare some address object for accessing fields in the PLC.
                // ({memory-area}/{byte-offset}[/{bit-offset}]
                // &quot;bit-offset is only specified if the requested type is &quot;bit&quot;
                // NOTICE: This format is probably only valid when using a S7 connection.
                Address inputs = plcConnection.parseAddress(&quot;INPUTS/0&quot;);
                Address outputs = plcConnection.parseAddress(&quot;OUTPUTS/0&quot;);

                //////////////////////////////////////////////////////////
                // Read synchronously ...
                // NOTICE: the &quot;.get()&quot; immediately lets this thread pause till
                // the response is processed and available.
                PlcReadResponse&lt;Byte&gt; plcReadResponse = plcReader.read(
                    new BytePlcReadRequest(inputs)).get();
                Byte data = plcReadResponse.getValue();
                System.out.println(&quot;Inputs: &quot; + data);

                //////////////////////////////////////////////////////////
                // Read asynchronously ...
                Calendar start = Calendar.getInstance();
                CompletableFuture&lt;PlcReadResponse&lt;Byte&gt;&gt; asyncResponse = plcReader.read(
                    new BytePlcReadRequest(outputs));

                asyncResponse.thenAccept(bytePlcReadResponse -&gt; {
                    Calendar end = Calendar.getInstance();
                    Byte dataAsync = bytePlcReadResponse.getValue();
                    System.out.println(&quot;Outputs: &quot; + dataAsync + &quot; (in &quot; + (end.getTimeInMillis() - start.getTimeInMillis()) + &quot;ms)&quot;);
                });

                // Simulate doing something else ...
                while (true) {
                    Thread.sleep(1);
                    if (asyncResponse.isDone()) {
                        break;
                    }
                }
            }
        }
        // Catch any exception or the application won't be able to finish if something goes wrong.
        catch (Exception e) {
            e.printStackTrace();
        }
    }

}</pre> 
    </div> 
   </div> 
  </div> 
 </div> 
</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->

	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Project Documentation</li>
						<li >
							<a href="project-info.html" title="Project Information">Project Information <i class="icon-chevron-down"></i></a>
							<ul class="nav nav-list">
						<li >
							<a href="dependencies.html" title="Dependencies">Dependencies</a>
						</li>
						<li >
							<a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
						</li>
						<li >
							<a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
						</li>
						<li class="active">
							<a href="#" title="About">About</a>
						</li>
						<li >
							<a href="issue-tracking.html" title="Issue Management">Issue Management</a>
						</li>
						<li >
							<a href="license.html" title="Licenses">Licenses</a>
						</li>
						<li >
							<a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
						</li>
						<li >
							<a href="modules.html" title="Project Modules">Project Modules</a>
						</li>
						<li >
							<a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
						</li>
						<li >
							<a href="plugins.html" title="Plugins">Plugins</a>
						</li>
						<li >
							<a href="source-repository.html" title="Source Code Management">Source Code Management</a>
						</li>
						<li >
							<a href="project-summary.html" title="Summary">Summary</a>
						</li>
							</ul>
						</li>
						<li >
							<a href="project-reports.html" title="Project Reports">Project Reports <i class="icon-chevron-right"></i></a>
						</li>
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
				<div class="span2 bottom-nav">
					<ul class="nav nav-list">
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Modules</li>
						<li >
							<a href="plc4j-api/index.html" title="PLC4J: API">PLC4J: API</a>
						</li>
						<li >
							<a href="plc4j-core/index.html" title="PLC4J: Core">PLC4J: Core</a>
						</li>
						<li >
							<a href="plc4j-protocols/index.html" title="PLC4J: Protocols">PLC4J: Protocols</a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><p id="bottomNote"></p></blockquote>
				</div>
			</div>
		</div>
	</footer>

	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2017 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.</p>
				<p><a href="http://github.com/andriusvelykis/reflow-maven-skin" title="Reflow Maven skin">Reflow Maven skin</a> by <a href="http://andrius.velykis.lt" target="_blank" title="Andrius Velykis">Andrius Velykis</a>.</p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="./js/jquery.min.js"></script>

	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/lightbox.min.js"></script>
	<script src="./js/reflow-scroll.js"></script>

	<script src="./js/reflow-skin.js"></script>

	</body>
</html>